/*
	Copyright: Deux Huit Huit 2014
	License: MIT, see the LICENCE file
*/

:root {
	--er-field-header-height: calc(var(--spacing-thin) + var(--standard-inner-rhythm) * 2);
}

.field-entry_relationship {
	--standard-field-hover-color: var(--standard-label-color);
}

.field-entry_relationship .frame {
	--frame-border-radius: var(--radius-small);
	--frame-background-color: var(--standard-field-background-color);
}

/* FIELD --------*/
	/* Structural base styles --------*/
		.field.field-entry_relationship .frame li {
			margin: 0;
			width: auto;
		}

		.field.field-entry_relationship .frame-header .destructor {
			width: 0;
			flex-basis: 2em;
			flex-shrink: 0;
			white-space: nowrap;
			text-align: right;
			display: inline-flex;
			justify-content: flex-end;
			z-index: 1;
			margin-left: 0;
			align-items: center;
		}

		.field.field-entry_relationship .frame-header .destructor:not(:hover):after {
			content: "+";
			margin-left: var(--spacing-micro);
		}

		.field.field-entry_relationship .frame-header .destructor a:not(:hover) {
			color: var(--standard-label-color);
		}

		.field.field-entry_relationship .frame-header .destructor>a {
			margin: 0;
			padding: 0 var(--spacing-micro);
			background-color: var(--standard-field-background-color);
		}

		.field.field-entry_relationship .frame-header .destructor>a:last-child {
			margin-right: calc(-1 * var(--spacing-micro));
		}

		.field.field-entry_relationship .frame-header .destructor:not(:hover)>a {
			opacity: 0;
			pointer-events: none;
		}


		.field.field-entry_relationship label {
			height: auto;
			margin-top: var(--standard-inner-rhythm);
			margin-bottom: var(--standard-inner-rhythm);
		}

		.field.field-entry_relationship label>span {
			top: auto;
			display: flex;
			align-items: center;
		}

		.field.field-entry_relationship label>span:before {
			content: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' height='25px' width='25px' fill='%237D93B3' version='1.1' x='0px' y='0px' viewBox='0 0 96 96' style='enable-background:new 0 0 96 96;' xml:space='preserve'%3E%3Cpath d='M74.2,35.78h-5.88c-2.62-6.66-9.1-11.4-16.67-11.4H21.8c-9.88,0-17.92,8.04-17.92,17.92c0,9.88,8.04,17.92,17.92,17.92h5.88 c2.62,6.66,9.1,11.4,16.67,11.4H74.2c9.88,0,17.92-8.04,17.92-17.92C92.12,43.82,84.08,35.78,74.2,35.78z M26.43,53.7 c0,0.18,0.02,0.35,0.03,0.52H21.8c-6.57,0-11.92-5.35-11.92-11.92c0-6.57,5.35-11.92,11.92-11.92h29.84c4.17,0,7.83,2.15,9.97,5.4 H44.35C34.47,35.78,26.43,43.82,26.43,53.7z M32.43,53.7c0-6.57,5.35-11.92,11.92-11.92h19.18c0.01,0.17,0.03,0.35,0.03,0.52 c0,6.57-5.35,11.92-11.92,11.92H32.46C32.45,54.05,32.43,53.88,32.43,53.7z M74.2,65.62H44.35c-4.17,0-7.83-2.15-9.97-5.4h17.26 c9.88,0,17.92-8.04,17.92-17.92c0-0.18-0.02-0.35-0.03-0.52h4.66c6.57,0,11.92,5.35,11.92,11.92C86.12,60.27,80.77,65.62,74.2,65.62 z'/%3E%3C/svg%3E");
			margin-right: var(--spacing-micro);
			height: 0;
			display: flex;
			align-items: center;
			width: 30px;
		}


		.field-entry_relationship .frame>ul {
			margin: 0;
			box-sizing: border-box;
			width: 100%;
		}

		.field-entry_relationship .frame>ul>li {
			border-style: dashed;
			border-color: var(--color-ui);
			box-sizing: inherit;
			width: inherit;
		}

		.field-entry_relationship .frame>ul>li:first-child {
			border-top-width: 1px;
		}

		.field-entry_relationship .frame>ul>li:last-child {
			border-bottom-width: 1px;
		}

		.field-entry_relationship .frame>ul>li+li {
			border-top-width: 1px;
		}

		.field-entry_relationship li>:first-child {
			position: relative;
			min-height: var(--er-field-header-height);
			box-sizing: border-box;
			display: flex;
			padding: 0 var(--standard-inner-rhythm);
			align-items: stretch;
			/*justify-content: space-between;*/
		}

		.field-entry_relationship li>:first-child strong {
			padding: var(--standard-inner-rhythm) 0;
			display: flex;
		}

		.field-entry_relationship .orderable li>.frame-header {
			cursor: move;
			cursor: -webkit-grab;
			cursor: -moz-grab;
			cursor: grab;
		}

		.field-entry_relationship .orderable li.ordering>.frame-header {
			cursor: -webkit-grabbing;
			cursor: -moz-grabbing;
			cursor: grabbing;
		}

		.field-entry_relationship li>:first-child span {
			text-align: right;
			font-size: var(--text-smaller);
			margin-left: auto;
			pointer-events: none;
			align-self: center;
		}

		.field-entry_relationship .frame .frame-header>:first-child {
			flex-grow: 1;
			display: flex;
			/*justify-content: space-between;*/
			/*align-items: center;*/
			display: contents;
		}
		.field-entry_relationship :not(.ctn-is-loaded)>.frame-header>:first-child>:first-child {
			margin-right: auto;
		}

		.field-entry_relationship .frame-header strong {
			cursor: s-resize;
		}

		.field-entry_relationship .frame-header strong:before {
			content: "•";
			font-size: var(--text-big);
			text-align: center;
			width: 15px;
			height: 15px;
			flex-shrink: 0;
			vertical-align: baseline;
			margin-right: var(--spacing-nano);
			position: relative;
			display: inline-flex;
			align-items: center;
			/*left: -.21em;*/
			top: .1em;
			pointer-events: none;
		}

		.field-entry_relationship :not(.ctn-is-loaded)>.frame-header strong:hover:before,
		.field-entry_relationship .ctn-is-loaded>.frame-header strong:before {
			content: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' height='15px' width='15px' fill='%23000000' viewBox='0 0 24 24' version='1.1' x='0px' y='0px'%3E%3Ctitle%3Eedit%3C/title%3E%3Cdesc%3ECreated with Sketch.%3C/desc%3E%3Cg stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3E%3Cpath d='M9.25735931,20.3994949 L9.87867966,19.7781746 L4.22182541,14.1213203 L16.9497475,1.39339828 C18.1213203,0.221825407 20.0208153,0.221825407 21.1923882,1.39339828 L22.6066017,2.80761184 C23.7781746,3.97918472 23.7781746,5.87867966 22.6066017,7.05025253 L9.25735931,20.3994949 Z M8.45752148,21.1854435 C7.91718787,21.6447027 7.22908814,21.8994949 6.51471863,21.8994949 L2.60050506,21.8994949 C2.32436269,21.8994949 2.10050506,21.6756373 2.10050506,21.3994949 L2.10050506,17.4852814 C2.10050506,16.7709119 2.35529734,16.0828121 2.81455646,15.5424785 L8.45752148,21.1854435 Z' fill='%230D6EFF'/%3E%3C/g%3E%3C/svg%3E");
			top: .05em;
			/*left: -.1em;*/
		}
		.field-entry_relationship :not(.ctn-is-loaded)>.frame-header:hover strong:not(:hover):before {
			content: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' height='20px' width='20px' fill='%230D6EFF' version='1.1' x='0px' y='0px' viewBox='0 0 100 100' style='enable-background:new 0 0 100 100;' xml:space='preserve'%3E%3Cg%3E%3Cpolygon points='30,70 50,90 70,70 60,70 60,30 70,30 50,10 30,30 40,30 40,70 '/%3E%3C/g%3E%3C/svg%3E");
			/*left: -.4em;*/
		}

		.field-entry_relationship>footer:not(:hover):not(:focus-within) {
			opacity: .5;
		}

		.field-entry_relationship>footer {
			display: flex;
			align-items: baseline;
			flex-wrap: wrap;
			/*background-color: rgba(0,0,0,.2);*/
			/*padding: 0 var(--standard-inner-rhythm);*/
			border-radius: inherit;
			transition: opacity 120ms 120ms ease-in;
			--standard-field-font-size: var(--text-smaller);
			--standard-label-font-size: var(--text-smaller);
		}

		.field-entry_relationship>footer * {
			/*flex-shrink: 1;*/
		}

		.field-entry_relationship>footer input,
		.field-entry_relationship>footer select,
		.field-entry_relationship>footer label,
		.field-entry_relationship>footer .search {
			flex-grow: 1;
			width: 0;
			flex-basis: 0;
		}

		.field-entry_relationship>footer .search {
			display: flex;
			position: relative;
		}

		.field-entry_relationship>footer .search .suggestions {
			top: 100%;
			width: 100%;
			font-size: var(--text-smaller);
		}

		.field-entry_relationship>footer .search .suggestions li:hover {
			background-color: var(--color-accent);
		}

		.field-entry_relationship>footer {
			top: 100%;
		}

		.field-entry_relationship>footer label {
			margin-left: var(--standard-inner-rhythm);
		}

		.field-entry_relationship>footer select {
			border-radius: inherit;
			border-bottom-right-radius: 0;
		}

		.field-entry_relationship>footer legend {
			display: none;
		}

		.field-entry_relationship footer * {
			margin: 0;
		}

		.field-entry_relationship>footer button {
			margin: 0 calc(var(--standard-inner-rhythm) / 2);
			flex-shrink: 0;
		}

/*		.field-entry_relationship>footer>fieldset>*>* {
			margin: 0;
		}*/

		.field-entry_relationship>footer>fieldset {
			display: contents;
			border-radius: inherit;
		}

		.field-entry_relationship>footer section {
			display: inherit;
			align-items: inherit;
			white-space: nowrap;
			border-radius: inherit;
		}

		.field-entry_relationship>footer>fieldset>* {
			flex-shrink: 0;
		}


	/* Graphical base styles --------*/
		.field.field-entry_relationship:focus-within {
			background-color: var(--standard-field-background-color);
		}

		.field.field-entry_relationship>label>span {
			color: var(--color-main-light);
		}

		.field-entry_relationship input,
		.field-entry_relationship select,
		.field-entry_relationship textarea {
			font-weight: 540;
			color: var(--color-main-dark);
		}

	/* Entry container SHOWN specific styles --------*/
		.field.field-entry_relationship .frame li.ctn-is-shown {
			color: var(--color-accent);
			z-index: 1;
			transition-duration: 200ms;
		}

		.field.field-entry_relationship .frame li:not(.ctn-is-shown) {
			transition-delay: 500ms;
			transition-duration: 3000ms;
			/*outline: 0px solid transparent;*/
		}

		.field.field-entry_relationship .ctn-is-shown~* {
			position: initial;
		}

		.field.field-entry_relationship .frame li.ctn-is-shown .frame-header {
			pointer-events: none;
			z-index: 4;
		}

		.field.field-entry_relationship .ctn-is-shown .frame-header span {
			display: none;
		}

		.field.field-entry_relationship .frame li.ctn-is-shown .destructor {
			opacity: 0;
			pointer-events: none;
		}



	/* Entry container SHOWN BUT NOT LOADED specific styles --------*/
		.field.field-entry_relationship .frame li.ctn-is-shown:not(.ctn-is-loaded) .frame-header:after {
			content: url("data:image/svg+xml,%3Csvg version='1.1' id='L4' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 100 100' enable-background='new 0 0 0 0' xml:space='preserve'%3E%3Ccircle fill='%230D6EFF' stroke='none' cx='6' cy='50' r='6'%3E%3Canimate attributeName='opacity' dur='1s' values='0;1;0' repeatCount='indefinite' begin='0.1'/%3E%3C/circle%3E%3Ccircle fill='%230D6EFF' stroke='none' cx='26' cy='50' r='6'%3E%3Canimate attributeName='opacity' dur='1s' values='0;1;0' repeatCount='indefinite' begin='0.2'/%3E%3C/circle%3E%3Ccircle fill='%230D6EFF' stroke='none' cx='46' cy='50' r='6'%3E%3Canimate attributeName='opacity' dur='1s' values='0;1;0' repeatCount='indefinite' begin='0.3'/%3E%3C/circle%3E%3C/svg%3E");
			width: 60px;
			height: 60px;
			display: block;
			position: absolute;
			z-index: 1;
			right: 0;
			top: 50%;
			transform: translateY(-50%);
		}

	/* Entry container LOADED specific styles --------*/
		.field.field-entry_relationship .ctn-is-loaded {
			position: static;
		}

		.field.field-entry_relationship .frame li.ctn-is-loaded {
			/*outline: 3px solid var(--color-accent);*/
			border-style: solid;
			/*box-shadow: var(--shadow);*/
		}

		.field.field-entry_relationship .ctn-is-loaded>.frame-header {
			justify-content: center;
		}

		.field.field-entry_relationship .ctn-is-loaded>.frame-header strong {
			max-width: calc(100% - 100px);
			white-space: nowrap;
			overflow: hidden;
			text-overflow: ellipsis;
			display: block;
		}

		.field.field-entry_relationship .ctn-is-loaded:after {
			content: "";
			position: absolute;
			pointer-events: none;
			top: 0px;
			right: 0px;
			bottom: 0px;
			left: 0px;
			/*border: 1px solid var(--color-ui);*/
			border-radius: 2px;
			z-index: 1;
		}

		.field.field-entry_relationship .ctn-is-loaded:after {
			transition: all 200ms ease-in 600ms;
		}


		.field.field-entry_relationship .ctn-is-loaded:hover:after {
			transition-delay: 0ms;
		}

		.field.field-entry_relationship .ctn-is-loaded:before {
			content: "";
			position: fixed;
			top: 0;
			right: 0;
			bottom: 0;
			left: 0;
			opacity: .8;
			background-color: var(--color-main-lightest);
			pointer-events: none;
			z-index: 1;
			mix-blend-mode: darken;
		}

		.field-entry_relationship .frame .ctn-is-loaded .frame-header>:first-child:after {
			/*content: "Mode edition";*/
			position: absolute;
			bottom: calc(100% - .5em);
			font-size: var(--text-smallest);
			background-color: var(--color-main);
			padding: var(--spacing-nano) var(--standard-inner-rhythm);
			line-height: 1.1em;
			left: calc(var(--standard-inner-rhythm) / 2);
			border-radius: var(--radius-small);
		}

		.field-entry_relationship .frame .ctn-is-loaded .frame-header>:first-child {
			justify-content: center;
		}


/* ENTRY CONTAINER --------*/
	/* Base styles --------*/
	[id="entry-relationship-ctn"] {
		pointer-events: none;
		background-color: var(--color-clear);
	}

	li>[id="entry-relationship-ctn"] > .iframe {
		margin-top: calc(-1 * var(--er-field-header-height));
		min-height: var(--er-field-header-height);
	}

	[id="entry-relationship-ctn"] > .iframe {
		transition: opacity 100ms ease-out;
		width: 100%;
		opacity: 0;
		margin-top: -1px;
	}

	[id="entry-relationship-ctn"] iframe {
		display: block;
		width: calc(100% + 4px);
		max-width: initial;
		transition: height 0ms cubic-bezier(0.77, 0, 0.175, 1);
		height: 0;
		opacity: 1;
		margin-left: -2px;
		/*border-radius: var(--radius-current);*/
	}

	[id="entry-relationship-ctn"]:before,
	[id="entry-relationship-ctn"]:after,
	[id="entry-relationship-ctn"] .iframe:before {
		content: "";
		position: absolute;
		box-sizing: border-box;
		pointer-events: none;
		right: 0;
		bottom: 0;
		top: 0;
		left: 0;
		opacity: 0;
		transition: opacity 200ms ease-in-out;
		top: var(--er-field-header-height);
		display: block;
	}

	[id="entry-relationship-ctn"]:before,
	[id="entry-relationship-ctn"]:after {
		transition: opacity 500ms ease-in-out 1200ms;
		z-index: 1;
	}


	[id="entry-relationship-ctn"]:after {
		font-size: var(--text-biggest);
		font-weight: 600;
		text-align: center;
		line-height: 1.2em;
		max-width: 20em;
		text-align: center;
		margin: auto;
		display: flex;
		align-items: center;
		color: var(--standard-field-background-color);
	}

	[id="entry-relationship-ctn"]:before {
		background-color: var(--color-main);
	}

	/* Container is SHOWN specific styles --------*/
	[id="entry-relationship-ctn"].show {
		pointer-events: all;
		position: relative;
		z-index: 3;
	}

	[id="entry-relationship-ctn"].show iframe {
		height: 0px;
	}

	[id="entry-relationship-ctn"].show > .iframe {
		opacity: 1;
		position: relative;
	}

	[id="entry-relationship-ctn"].show .iframe:after {
		content: "";
		position: absolute;
		top: 0;
		right: 0;
		bottom: 0;
		left: 0;
		background-color: var(--standard-field-background-color);
		/*opacity: 1;*/
		transition: opacity 100ms ease-in;
	}

	html:lang(en) [id="entry-relationship-ctn"].show:after {
		content: "Please save your changes or close the panel to proceed.";
	}

	html:lang(fr) [id="entry-relationship-ctn"].show:after {
		content: "Veuillez sauvegarder vos changements ou fermer le panneau pour continuer.";
	}

	/* Container is SHOWN but iframe is NOT LOADED specific styles --------*/
	[id="entry-relationship-ctn"].show .iframe:not(.loaded):after {
		opacity: 1;
		background-color: var(--standard-field-background-color);
		display: flex;
		padding-top: var(--standard-inner-rhythm);
		padding-right: var(--standard-inner-rhythm);
		/*align-items: center;*/
		justify-content: flex-end;
		font-size: var(--text-smaller);
		/*font-style: italic;*/
		font-weight: 500;
	}

	/* Container is SHOWN and iframe is LOADED specific styles --------*/
	[id="entry-relationship-ctn"].show .iframe.loaded:after {
		opacity: 0;
		pointer-events: none;
	}

	[id="entry-relationship-ctn"] .iframe.loaded:before {
		/*border-bottom: 2px solid var(--color-accent);*/
		/*box-shadow: inset var(--shadow-up);*/
		opacity: 1;
		mix-blend-mode: multiply;
	}

	html:hover .ctn-is-loaded [id="entry-relationship-ctn"].show:hover:before,
	html:hover .ctn-is-loaded [id="entry-relationship-ctn"].show:hover:after {
		transition-duration: 120ms;
		transition-delay: 0ms;
	}

	/* Container is SHOWN and LOADED but iframe is NOT LOADED (waiting for save) */
	html:lang(en) .ctn-is-loaded [id="entry-relationship-ctn"].show .iframe:not(.loaded):after {
		content: "Saving...";
		animation-name: colorflash;
		animation-duration: 400ms;
		animation-direction: alternate;
		animation-iteration-count: infinite;
	}

	html:lang(en) .ctn-is-loaded [id="entry-relationship-ctn"].show .iframe:not(.loaded) iframe {
		height: var(--er-field-header-height) !important;
	}


/* IFRAME PAGE --------*/
	/* Base styles */
	html.entry_relationship {
		/*--frontframe-background-color: var(--color-clear);*/
		/*--standard-field-max-width: 100%;*/
		/*--radius-current: 0;*/
		/*--standard-outer-rhythm: 2px;*/
		/*--standard-input-color: var(--color-main-dark);*/
		/*--standard-label-color: var(--color-main-dark);*/
		/*--standard-table-background-color: var(--color-main-lighter);*/
		/*--standard-table-color: var(--color-main-dark);*/
	}

	html.entry_relationship {
		font-size: 62.5%;
	}

	html.entry_relationship body {
/*		display: flex;
		flex-direction: column;*/
		min-height: max-content;
		max-height: max-content;
		background-color: var(--frontframe-background-color);

		grid-template-areas: 
			"controls controls controls"
			"notifier notifier notifier"
			"primary secondary-panel-switch secondary";
		grid-template-rows: 
			auto
			auto
			minmax(0, 1fr);
		grid-template-columns: 1fr auto 0;
		padding-left: var(--spacing-pico);
		padding-right: var(--spacing-pico);
		padding-bottom: var(--standard-outer-rhythm);
	}

	html.entry_relationship [id="primary"],
	html.entry_relationship [id="secondary"],
	html.entry_relationship input.secondary-panel-switch {
		margin: var(--standard-inner-rhythm) 0;
	}

	html.entry_relationship [id="primary"] {
		overflow: visible;
		--standard-outer-rhythm: 0;
	}

	html.entry_relationship .field {
		/*border-left: 0;*/
		/*border-right: 0;*/
	}

	html.entry_relationship .field {
		/*--standard-field-background-color: var(--color-ui);*/
	}

	html.entry_relationship .field:hover {
		/*--standard-field-background-color: var(--color-accent-lighter);*/
	}


	html:lang(en).entry_relationship body[data-page="new"] [id="controls"]:before {
		content: "New Entry";
	}

	html:lang(fr).entry_relationship body[data-page="new"] [id="controls"]:before {
		content: "Nouvelle entrée";
	}


	html:lang(en).entry_relationship body[data-page="index"] [id="controls"]:before {
		content: "Choose an entry to be added";
	}

	html:lang(fr).entry_relationship body[data-page="index"] [id="controls"]:before {
		content: "Choisissez une entrée à ajouter";
	}

	html:lang(en).entry_relationship body[data-page="new"] [id="controls"]:before,
	html:lang(en).entry_relationship body[data-page="index"] [id="controls"]:before {
		margin: auto;
		font-weight: 540;
		/*color: var(--color-accent);*/
		font-size: var(--text-big);
		text-align: center;
		color: var(--color-accent);
	}

	html.entry_relationship [id="controls"] {
		order: -1;
		border-top: 0;
		border-bottom: 1px solid var(--color-ui);
		border-left: 1px solid var(--color-ui);
		border-right: 1px solid var(--color-ui);
		padding: calc(var(--standard-inner-rhythm) / 2);
		margin: 0;
		position: sticky;
		top: 0;
		height: var(--er-field-header-height);
		box-sizing: border-box;
		justify-content: space-between;
		z-index: initial;
		/*background-color: var(--color-main);*/
		/*color: var(--color-accent-light);*/
		/*background-image: linear-gradient(to top, rgba(255,255,255,.4), rgba(255,255,255,.4) 100%);*/
	}

	html.entry_relationship [id="contents"]>form>* {
		flex-shrink: 0;
	}

	html.entry_relationship button[name="action[save]"] {
		margin-right: var(--spacing-micro);
		color: inherit;
		order: 2;

	}

	html.entry_relationship button[name="action[save]"]:after {
		right: 0;
		top: 100%;
		margin-top: var(--spacing-pico);
		margin-left: var(--spacing-pico);
	}

	html.entry_relationship button[name="action[close]"] {
		color: inherit;
		order: -1;
		width: 20px;
		height: 20px;
	}

	html.entry_relationship button[name="action[close]"]:before {
		content: url("data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' width='19.9px' height='19.9px' viewBox='0 0 19.9 19.9'%3E%3Cpath fill='%23405980' d='M1,19.9c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4L18.2,0.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4L1.7,19.6C1.5,19.8,1.3,19.9,1,19.9z'/%3E%3Cpath fill='%23405980' d='M18.9,19.9c-0.3,0-0.5-0.1-0.7-0.3L0.3,1.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l17.9,17.9c0.4,0.4,0.4,1,0,1.4C19.4,19.8,19.2,19.9,18.9,19.9z'/%3E%3C/svg%3E");
		transform: scale(.6);
	}

	html.entry_relationship button[name="action[close]"]:hover {
		background-color: var(--color-main-lighter);
	}
	
	html:lang(en).entry_relationship button[name="action[close]"]:after {
		content: "Close without saving";
	}

	html:lang(fr).entry_relationship button[name="action[close]"]:after {
		content: "Fermer sans sauvegarde";
	}

	html.entry_relationship button[name="action[close]"]:not(:hover):after {
		opacity: 0;
	}
	
	html.entry_relationship button[name="action[close]"]:after {
		position: absolute;
		top: 100%;
		margin-top: var(--spacing-pico);
		margin-left: var(--spacing-pico);
		/*margin-left: calc(-1 * var(--spacing-micro));*/
		left: 0;
		font-size: var(--text-smaller);
		white-space: nowrap;
		padding: var(--spacing-nano);
		background-color: inherit;
		color: inherit;
		font-weight: 500;
		border-radius: var(--radius-small);
		box-shadow: var(--shadow-small);
		pointer-events: none;
		color: var(--color-main);
		background-color: var(--color-main-lighter);
	}

	html.entry_relationship #header,
	html.entry_relationship #nav,
	html.entry_relationship #breadcrumbs,
	html.entry_relationship #footer,
	html.entry_relationship #context,
	html.entry_relationship button[name="action[delete]"],
	html.entry_relationship .actions .modal,
	html.entry_relationship .actions .drawer,
	html.entry_relationship .actions .apply {
		display: none;
	}

	html.entry_relationship {
		scrollbar-color: transparent transparent;
		scrollbar-width: 0px;
		overflow: visible;
	}

	html.entry_relationship .page-index [id="primary"] .actions {
		display: none;
	}

	html.entry_relationship .page-index [id="primary"] td,
	html.entry_relationship .page-index [id="primary"] th {
		padding-right: calc(var(--standard-inner-rhythm) * 2);
	}

	html.entry_relationship .page-index [id="primary"] td:first-of-type,
	html.entry_relationship .page-index [id="primary"] th:first-of-type {
		padding-left: var(--standard-inner-rhythm);
	}

	html.entry_relationship::-webkit-scrollbar {
		background-color: transparent;
		height: 0px;
		width: 0px;
	}

	html.entry_relationship:hover {
		scrollbar-color: var(--scrollbar-thumb-background-color) transparent;

	}

	html.entry_relationship input.secondary-panel-switch {
		display: flex;
		z-index: 101;
		margin-left: var(--spacing-micro);
	}

	html.entry_relationship input.secondary-panel-switch:checked~[id="primary"] {
		/*width: 0;*/
		/*min-width: 0;*/
		/*overflow: hidden;*/
		opacity: .5;
		mix-blend-mode: darken;
	}

	html.entry_relationship input.secondary-panel-switch:checked~[id="secondary"] {
		width: var(--dimension-smallest);
		box-sizing: border-box;
		justify-self: end;
		z-index: 3;
		max-width: calc(100vw - var(--spacing-broader));
		background-color: var(--backframe-background-color);
		border: 1px solid var(--color-ui);
	}
	html.entry_relationship input.secondary-panel-switch {
		border: 1px solid var(--color-ui);
	}
	html.entry_relationship input.secondary-panel-switch:checked {
		/*left: calc(-1 * var(--dimension-tiny));*/
		/*margin-left: calc(-1 * var(--spacing-broad));*/
	}


	html.entry-is-active [id="primary"] {
		scroll-behavior: smooth;
	}

	html.not-allowed [id="primary"]>*:first-child:before {
		content: "";
		position: fixed;
		top: 0;
		right: 0;
		bottom: 0;
		left: 0;
		height: auto;
		z-index: 3;
		cursor: not-allowed;
	}

	html.not-allowed {
		user-select: none;
	}

	html.not-allowed .field {
		pointer-events: none;
	}

	html.not-allowed [id="controls"] input,
	html.not-allowed [id="controls"] button,
	html.not-allowed [id="controls"] a {
		color: var(--color-main-lighter);
	}

	html.not-allowed .field {
		--standard-input-color: var(--color-main-lighter);
		--standard-label-color: var(--color-main-lighter);
	}

	html.not-allowed.entry-is-active .ctn-is-shown {
		user-select: all;
		pointer-events: all;
	}

	@keyframes colorflash {
		from {
			color: transparent;
		}

		to {
			color: var(--color-main);
		}
	}
