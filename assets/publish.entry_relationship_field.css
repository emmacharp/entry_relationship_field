/*
	Copyright: Deux Huit Huit 2014
	License: MIT, see the LICENCE file
*/

:root {
	--er-field-header-height: calc(var(--spacing-thin) + var(--standard-inner-rhythm) * 2 + .4em);
}

.field.field-entry_relationship>.frame,
.field.field-entry_relationship>.frame>ul,
.field.field-entry_relationship>.frame>ul>li {
	/*background-color: inherit;*/
	/*border-color: inherit;*/
}



.field.field-entry_relationship>label>span {
	color: var(--standard-input-color);
}

.field.field-entry_relationship li {
	margin: 0;
	width: auto;
	transition: margin 80ms cubic-bezier(0.77, 0, 0.175, 1);
}

.field.field-entry_relationship li.ctn-is-shown {
	color: var(--color-accent);
	z-index: 1;
}

.field.field-entry_relationship .ctn-is-shown~* {
	position: initial;
}

.field.field-entry_relationship li.ctn-is-shown:not(.ctn-is-loaded) .frame-header:after {
	content: url("data:image/svg+xml,%3Csvg version='1.1' id='L4' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 100 100' enable-background='new 0 0 0 0' xml:space='preserve'%3E%3Ccircle fill='blue' stroke='none' cx='6' cy='50' r='6'%3E%3Canimate attributeName='opacity' dur='1s' values='0;1;0' repeatCount='indefinite' begin='0.1'/%3E%3C/circle%3E%3Ccircle fill='blue' stroke='none' cx='26' cy='50' r='6'%3E%3Canimate attributeName='opacity' dur='1s' values='0;1;0' repeatCount='indefinite' begin='0.2'/%3E%3C/circle%3E%3Ccircle fill='blue' stroke='none' cx='46' cy='50' r='6'%3E%3Canimate attributeName='opacity' dur='1s' values='0;1;0' repeatCount='indefinite' begin='0.3'/%3E%3C/circle%3E%3C/svg%3E");
	width: 40px;
	height: 40px;
	display: block;
	position: absolute;
	z-index: 1;
	right: 0;
	top: 50%;
	transform: translateY(-50%);
}

.field.field-entry_relationship li.ctn-is-loaded {
	box-shadow: var(--shadow-up);
	border-style: solid;
	/*border-bottom: 2px solid var(--color-main-lighter);*/
}

.field.field-entry_relationship li.ctn-is-shown .frame-header {
	pointer-events: none;
	/*padding: 0;*/
	z-index: 1;
	/*display: block;*/
}

/*.field.field-entry_relationship li.ctn-is-loaded .frame-header>* {
	padding: var(--standard-inner-rhythm);
}

.field.field-entry_relationship li.ctn-is-loaded .frame-header>*:first-child {
	margin-bottom: -100%;
	min-height: calc(var(--standard-inner-rhythm) * 2 + 2.1em);
	box-sizing: border-box;
	display: flex;
	align-items: center;
}*/

.field.field-entry_relationship li.ctn-is-shown .destructor {
	opacity: 0;
	pointer-events: none;
}

.field.field-entry_relationship .ctn-is-loaded:after {
	content: "";
	position: absolute;
	pointer-events: none;
	top: -1px;
	right: -3px;
	bottom: -1px;
	left: -3px;
	border: 3px solid transparent;
	border-radius: 2px;
	z-index: 1;
}

.field.field-entry_relationship .ctn-is-loaded:after,
.field.field-entry_relationship .ctn-is-loaded:before {
	transition: all 200ms ease-in 800ms;
}

.field.field-entry_relationship .ctn-is-loaded:hover:before,
.field.field-entry_relationship .ctn-is-loaded:hover:after {
	transition-delay: 0ms;
}


.field.field-entry_relationship .ctn-is-loaded:before {
	content: "";
	position: fixed;
	top: 0;
	right: 0;
	bottom: 0;
	left: 0;
	background-color: var(--color-main-lightest);
	opacity: 0;
	pointer-events: none;
	z-index: -1;
	/*mix-blend-mode: difference;*/
}



.field.field-entry_relationship .ctn-is-loaded:not(:hover):before {
	opacity: .8;
	transition-duration: 800ms;
}


.field.field-entry_relationship .ctn-is-loaded:not(:hover):after {
	/*border-color: var(--color-accent);*/
}

.field.field-entry_relationship label {
	height: auto;
	margin-top: var(--standard-inner-rhythm);
	margin-bottom: var(--standard-inner-rhythm);
}

.field.field-entry_relationship label>span {
	top: auto;
}

.field-entry_relationship .frame {
	--frame-border-radius: var(--radius-small);
	--frame-background-color: var(--standard-field-background-color);
	/*margin: var(--standard-inner-rhythm) calc(var(--standard-inner-rhythm) / 2);*/
}

.field-entry_relationship .frame>ul {
	margin: 0;
	border-top: 1px dashed var(--color-ui);
	border-bottom: 1px dashed var(--color-ui);
	box-sizing: border-box;
	width: 100%;
}

.field-entry_relationship .frame>ul>li {
	box-sizing: inherit;
	width: inherit;
}

.field-entry_relationship .frame>ul>li+li {
	border-top: 1px dashed var(--color-ui);
}

.field-entry_relationship .frame .frame-header {
	padding: var(--standard-inner-rhythm);
	position: relative;
	height: var(--er-field-header-height);
	box-sizing: border-box;
}


.field-entry_relationship>footer {
	display: flex;
	align-items: baseline;
	/*background-color: var(--color-accent-lighter);*/
	border-radius: inherit;
}

.field-entry_relationship>footer>fieldset {
	display: contents;
}

.field-entry_relationship>footer section {
	display: inherit;
	align-items: inherit;
	white-space: nowrap;
}

.field-entry_relationship>footer>fieldset>* {
	flex-shrink: 0;
}

/**
 * CSS for entry relationship field iframe
 */
#entry-relationship-ctn {
	pointer-events: none;
	background-color: var(--color-clear);
}

#entry-relationship-ctn.show {
	pointer-events: all;
}

li>#entry-relationship-ctn > .iframe {
	margin-top: calc(-1 * var(--er-field-header-height));
	min-height: var(--er-field-header-height);
}

#entry-relationship-ctn > .iframe {
	transition: opacity 100ms ease-out;
	width: 100%;
	opacity: 0;
}

#entry-relationship-ctn.show > .iframe {
	opacity: 1;
	position: relative;
}

#entry-relationship-ctn iframe {
	display: block;
	width: inherit;
	transition: height 0ms cubic-bezier(0.77, 0, 0.175, 1);
	height: 0;
	opacity: 1;
}

#entry-relationship-ctn.show .iframe:after {
	content: "";
	position: absolute;
	top: 0;
	right: 0;
	bottom: 0;
	left: 0;
	background-color: var(--standard-field-background-color);
	opacity: 1;
	transition: opacity 100ms ease-in;
}

#entry-relationship-ctn.show .iframe.loaded:after {
	opacity: 0;
	pointer-events: none;
}

#entry-relationship-ctn.show iframe {
	height: 0px;
}


html.entry_relationship {
	--backframe-background-color: var(--color-clear);
	--frontframe-background-color: var(--color-clear);
	--standard-field-max-width: 100%;
	--radius-current: 0;
	--standard-outer-rhythm: 0;
	/*--standard-input-color: var(--color-clear);*/
	/*--primary-field-background-color: var(--color-main-light);*/
	/*--secondary-field-background-color: var(--color-main-light);*/
	
	font-size: 62.5%;

}


html.entry_relationship body {
	display: flex;
	flex-direction: column;
}


#entry-relationship-ctn:after,
#entry-relationship-ctn .iframe:before {
	content: "";
	position: absolute;
	box-sizing: border-box;
	pointer-events: none;
	right: 0;
	bottom: 0;
	top: 0;
	left: 0;
	opacity: 0;
	transition: all 800ms ease-in 1400ms;
	z-index: 10;
	top: var(--er-field-header-height);
}

#entry-relationship-ctn .iframe.loaded:before {
	border-bottom: 1px solid var(--color-accent-light);

	box-shadow: inset 0px 0px 10px 0px var(--color-main-lighter);
}

#entry-relationship-ctn.show:not(:hover):before {
	/*opacity: .85;*/
}

#entry-relationship-ctn.show:not(:hover):after {
	color: var(--color-clear);
	border-color: var(--color-main-light);
	background-color: #0D6EFFA0;
	/*opacity: 1;*/

}

#entry-relationship-ctn.show:hover:before,
#entry-relationship-ctn.show:hover:after {
	transition-duration: 120ms;
	transition-delay: 0ms;
}

html:lang(en) #entry-relationship-ctn.show:after {
	content: "Please save your changes or close the panel to proceed.";
}

html:lang(fr) #entry-relationship-ctn.show:after {
	content: "Veuillez sauvegarder vos changements ou fermer le panneau pour continuer.";
}


#entry-relationship-ctn:after {
	display: flex;
	flex-direction: column;
	align-items: center;
	justify-content: center;

	padding: var(--spacing-large);
	
	color: transparent;
	font-size: var(--text-biggest);
	font-weight: 600;
	text-align: center;
	line-height: 1.2em;
	border-bottom: 1px solid var(--color-accent-light);
}

html.entry_relationship .field {
	border-left: 0;
	border-right: 0;
}

html:lang(en).entry_relationship body[data-page="new"] [id="controls"]:before {
	content: "New Entry";
}

html:lang(fr).entry_relationship body[data-page="new"] [id="controls"]:before {
	content: "Nouvelle entrée";
}


html:lang(en).entry_relationship body[data-page="index"] [id="controls"]:before {
	content: "Choose an entry to be added";
}

html:lang(fr).entry_relationship body[data-page="index"] [id="controls"]:before {
	content: "Choisissez une entrée à ajouter";
}

html:lang(en).entry_relationship body[data-page="new"] [id="controls"]:before,
html:lang(en).entry_relationship body[data-page="index"] [id="controls"]:before {
	margin-right: auto;
	font-weight: 740;
	color: var(--color-accent);
}

html.entry_relationship [id="controls"] {
	order: -1;
	border-top: 0;
	border-bottom: 1px solid var(--color-main-lighter);
	padding: calc(var(--standard-inner-rhythm) / 2) var(--standard-inner-rhythm);
	margin: 0;
	position: sticky;
	top: 0;
	justify-content: flex-end;
}

html.entry_relationship [id="contents"]>form>* {
	flex-shrink: 0;
}

html.entry_relationship button[name="action[save]"] {
	margin-right: var(--spacing-micro);
}

html.entry_relationship button[name="action[close]"]:after {
	content: url("data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' width='19.9px' height='19.9px' viewBox='0 0 19.9 19.9'%3E%3Cpath fill='currentColor' d='M1,19.9c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4L18.2,0.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4L1.7,19.6C1.5,19.8,1.3,19.9,1,19.9z'/%3E%3Cpath fill='currentColor' d='M18.9,19.9c-0.3,0-0.5-0.1-0.7-0.3L0.3,1.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l17.9,17.9c0.4,0.4,0.4,1,0,1.4C19.4,19.8,19.2,19.9,18.9,19.9z'/%3E%3C/svg%3E");
}

html.entry_relationship button[name="action[close]"]:hover:after {
	filter: invert(.9);
}


html.entry_relationship #header,
html.entry_relationship #nav,
html.entry_relationship #breadcrumbs,
html.entry_relationship #footer,
html.entry_relationship #context,
html.entry_relationship button[name="action[delete]"],
html.entry_relationship .actions .modal,
html.entry_relationship .actions .drawer,
html.entry_relationship .actions .apply {
	display: none;
}

html.entry_relationship {
	scrollbar-color: transparent transparent;
	scrollbar-width: 0px;
}

html.entry_relationship::-webkit-scrollbar {
	background-color: transparent;
	height: 0px;
	width: 0px;
}

html.entry_relationship:hover {
	scrollbar-color: var(--scrollbar-thumb-background-color) transparent;

}